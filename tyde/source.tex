\documentclass[sigplan, authordraft]{acmart}

% Copyright
%\setcopyright{none}
%\setcopyright{acmcopyright}
%\setcopyright{acmlicensed}
\setcopyright{rightsretained}
%\setcopyright{usgov}
%\setcopyright{usgovmixed}
%\setcopyright{cagov}
%\setcopyright{cagovmixed}

% DOI
\acmDOI{}

% ISBN
\acmISBN{}

%Conference
\acmConference[TyDe'18]{the 3rd ACM SIGPLAN International Workshop on Type-Driven Development}{September 27, 2018}{St. Louis, MO, USA}
\acmYear{2018}
\copyrightyear{2018}
\acmPrice{15.00}
\acmSubmissionID{}

\usepackage{enumerate}
\usepackage{fancyvrb}
\fvset{commandchars=\\\{\},formatcom=\singlespacing}
\usepackage{xcolor}
\usepackage{setspace}
% Idris
% in REPL run `:pp latex 80 <expr>` to get the colored verbatim
\definecolor{IdrisRed}{RGB}{166, 0, 2}
\definecolor{IdrisBlue}{RGB}{0, 0, 182}
\definecolor{IdrisGreen}{RGB}{13, 84, 8}
\definecolor{IdrisPurple}{RGB}{126, 2, 236}
\newcommand{\IdrisData}[1]{\textcolor{IdrisRed}{#1}}
\newcommand{\IdrisType}[1]{\textcolor{IdrisBlue}{#1}}
\newcommand{\IdrisBound}[1]{\textcolor{IdrisPurple}{#1}}
\newcommand{\IdrisFunction}[1]{\textcolor{IdrisGreen}{#1}}
\newcommand{\IdrisMetavar}[1]{\textcolor{cyan}{#1}}
\newcommand{\IdrisKeyword}[1]{{\textbf{#1}}}
\newcommand{\IdrisImplicit}[1]{{\itshape \IdrisBound{#1}}}
\newcommand{\ty}[1]{\IdrisType{\texttt{#1}}}
\newcommand{\kw}[1]{\IdrisKeyword{\texttt{#1}}}
\newcommand{\fn}[1]{\IdrisFunction{\texttt{#1}}}
\newcommand{\dt}[1]{\IdrisData{\texttt{#1}}}
\newcommand{\bn}[1]{\IdrisBound{\texttt{#1}}}
\newcommand{\cm}[1]{\textcolor{darkgray}{\texttt{#1}}}
\newcommand{\hole}[1]{\IdrisMetavar{\texttt{?}\IdrisMetavar{\texttt{#1}}}}
\newcommand{\Elab}{\ty{Elab}}
\newcommand{\String}{\ty{String}}
\newcommand{\TT}{\ty{TT}}
\newcommand{\Raw}{\ty{Raw}}
\newcommand{\Editorable}{\ty{Editorable}}
\newcommand{\TyDecl}{\ty{TyDecl}}
\newcommand{\FunDefn}{\ty{FunDefn}}
\newcommand{\FunClause}{\ty{FunClause}}
\newcommand{\mt}[1]{\mbox{\texttt{#1}}}

\newcommand{\Red}[1]{{\color{red} #1}}
\newcommand{\TODO}[1]{{\color{red}{[TODO: #1]}}}
\newcommand{\FYI}[1]{{\color{green}{[FYI: #1]}}}
\newcommand{\forceindent}{\hspace{\parindent}}

\sloppy


\begin{document}
\title[Edit-Time Tactics in Idris]{Edit-Time Tactics in Idris}

\author{Joomy Korkut}
\orcid{0000-0001-6784-7108}
\affiliation{
  \institution{Wesleyan University}
  \city{Middletown}
  \state{Connecticut}
  \country{USA}
}
\email{ckorkut@wesleyan.edu}

\author{David Thrane Christiansen}
\affiliation{
  \institution{Galois Inc.}
  \city{Portland}
  \state{Oregon}
  \country{USA}
}
\email{dtc@galois.com}


% The default list of authors is too long for headers.
\renewcommand{\shortauthors}{Joomy Korkut and David Thrane Christiansen}

\begin{abstract}
  In dependently-typed languages such as Idris, recent work on
  \mbox{\emph{elaborator reflection}~\cite{elabref}} paved the way for new
  applications of metaprogramming by showing that a tactic-based proof language
  can be substituted with a monadic interface that exposes the internal
  elaborator. The goal of our work is to use elaborator reflection to write
  editor interaction actions in Idris.

  Currently in Idris modes of editors such as Emacs, users can perform actions
  like type-checking holes, case-splitting, and lemma extraction.
  Implementations of all of these Idris editor actions are hard-coded in the
  compiler, and they are written in Haskell. Our work will allow us to rewrite
  them in Idris as metaprograms and to move them into an Idris library,
  instead of having them embedded into the compiler.
\end{abstract}

%
% The code below should be generated by the tool at
% http://dl.acm.org/ccs.cfm
% Please copy and paste the code instead of the example below.
%
 \begin{CCSXML}
<ccs2012>
<concept>
<concept_id>10011007.10011006.10011008.10011009.10011012</concept_id>
<concept_desc>Software and its engineering~Functional languages</concept_desc>
<concept_significance>300</concept_significance>
</concept>
<concept>
<concept_id>10011007.10011006.10011008.10011024</concept_id>
<concept_desc>Software and its engineering~Language features</concept_desc>
<concept_significance>300</concept_significance>
</concept>
</ccs2012>
\end{CCSXML}
\ccsdesc[300]{Software and its engineering~Functional languages}
\ccsdesc[300]{Software and its engineering~Language features}


\keywords{Metaprogramming, dependent types, editor interaction}  %% \keywords are mandatory in final camera-ready submission


\maketitle

\TODO{Very very rough draft. Still feels like copy-paste from the thesis, and
it mostly is. The design and implementation should be simplified a lot. I'm
sure you will be bothered by the "we"s, sorry about that. I'm not particularly
happy that I used ``\Elab\ action'' and ``tactic'' interchangeably, that might
be confusing to some people.}

\input{introduction}
\input{design}
\input{implementation}
\input{applications}
\input{relatedwork}
\input{conclusion}

\bibliographystyle{ACM-Reference-Format}
\bibliography{../thesis/paper}

\end{document}
